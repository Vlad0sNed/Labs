COMPLETED

Даний веб-додаток, створений за допомогою Flask, забезпечує візуалізацію даних у реальному часі, використовуючи WebSocket для отримання інформації про позиції об'єкта і супутників. Він дозволяє динамічно оновлювати графіки в браузері, а також надає API для зміни параметрів моделювання.

Основні компоненти
Flask: Серверна частина додатку, що обробляє запити клієнтів, генерує HTML-сторінки та надає API для взаємодії з даними.

WebSocket: Використовується для підключення до сервера і отримання даних у реальному часі. Це дозволяє отримувати оновлення без необхідності перезавантажувати сторінку.

CORS: Додаток включає підтримку Cross-Origin Resource Sharing (CORS), що дозволяє обмінюватися даними між різними доменами, якщо це необхідно.

Структура коду
Головна сторінка: Основний маршрут / завантажує HTML-шаблон index.html, який містить графік для відображення даних.

API для оновлення параметрів: Маршрут /config приймає POST-запити з параметрами, такими як розміри зони емулювання, частота повідомлень, швидкість супутників і об'єктів. Після обробки запиту повертає статус успіху або помилки.

API для отримання даних: Маршрут /data перевіряє, чи є достатня кількість точок у масиві data, і обчислює координати для трьох точок, отриманих через WebSocket. Якщо даних недостатньо, повертається повідомлення про помилку.

Логіка WebSocket
on_message: Ця функція обробляє повідомлення, що надходять через WebSocket. Вона розбирає JSON-дані, які містять координати, мітки часу та ідентифікатор точки. В залежності від того, чи існує вже точка з таким ідентифікатором, вона оновлює її або додає нову в масив data.

Управління життєвим циклом даних: Функція видаляє старі дані з масиву, якщо вони перевищують заданий час життя (в даному випадку 4 секунди).

Визначення позиції: Функція location обчислює координати центру трьох точок, які використовуються для візуалізації тріангуляції.

Запуск додатку
Додаток запускається в окремому потоці для WebSocket, що дозволяє паралельно обробляти запити Flask. При запуску сервер буде доступний за адресою http://localhost:5000, а WebSocket підключення — за адресою ws://localhost:4001.
